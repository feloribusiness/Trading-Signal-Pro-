<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trading Signal Pro - Live Trading Signals</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Live trading signals with AI-powered technical analysis for Forex, Crypto & Commodities. Real-time signals with risk management.">
    <meta name="keywords" content="trading signals, forex, crypto, commodities, technical analysis, AI trading">
    <meta name="author" content="Trading Signal Pro">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Trading Signal Pro - Live Trading Signals">
    <meta property="og:description" content="AI-powered trading signals for Forex, Crypto & Commodities">
    <meta property="og:type" content="website">
    
    <!-- Iklan Popunder - SUDAH TERPASANG -->
    <script type="text/javascript" src="//pl28223555.effectivegatecpm.com/d4/cf/b8/d4cfb853068fa90c68ee8975405165e6.js"></script>
    
    <!-- Iklan Native Banner - SUDAH TERPASANG -->
    <script async="async" data-cfasync="false" src="//pl28223584.effectivegatecpm.com/afa3a311d22d85a20b9e350d7b865369/invoke.js"></script>
    <div id="container-afa3a311d22d85a20b9e350d7b865369"></div>
    
    <style>
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        @keyframes fadeOut {
            0% { opacity: 1; transform: scale(1); }
            100% { opacity: 0; transform: scale(0.8); }
        }
        @keyframes slideOut {
            0% { transform: translateX(0); opacity: 1; }
            100% { transform: translateX(100%); opacity: 0; }
        }
        .animate-pulse-slow {
            animation: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .card-hover {
            transition: all 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        .card-expiring {
            animation: fadeOut 2s ease-out forwards;
        }
        .card-removed {
            animation: slideOut 0.5s ease-out forwards;
        }
        .ad-banner {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            position: relative;
            overflow: hidden;
        }
        .ad-banner::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        .native-ad {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
        }
        .native-ad::after {
            content: 'AD';
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(255,255,255,0.2);
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: bold;
            color: white;
        }
        .disclaimer-text {
            background: #fef3c7;
            border: 2px solid #f59e0b;
            border-radius: 8px;
            padding: 16px;
            margin: 20px 0;
            font-size: 14px;
            line-height: 1.6;
        }
        .disclaimer-text strong {
            color: #d97706;
            font-weight: bold;
        }
        .risk-warning {
            background: #fee2e2;
            border: 2px solid #ef4444;
            border-radius: 8px;
            padding: 12px;
            margin: 10px 0;
            font-size: 13px;
            color: #991b1b;
        }
        .report-card {
            background: white;
            border-radius: 8px;
            padding: 16px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
        }
        .success-stat {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        }
        .warning-stat {
            background: linear-gradient(135deg, #f59e0b 0%, #ef4444 100%);
        }
        .danger-stat {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <header class="bg-white shadow-sm border-b">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-4">
                    <div class="w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center">
                        <i class="fas fa-chart-line text-white text-sm"></i>
                    </div>
                    <div>
                        <h1 class="text-2xl font-bold text-gray-900">Trading Signal Pro</h1>
                        <div class="text-xs text-gray-500">AI-Powered Technical Analysis</div>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <div class="flex items-center space-x-2">
                        <div class="w-3 h-3 bg-green-500 rounded-full animate-pulse"></div>
                        <span class="text-sm text-gray-600">Live</span>
                    </div>
                    <div class="text-right">
                        <span class="text-sm text-gray-500" id="currentTime"></span>
                        <div class="text-xs text-gray-400" id="userTimezone"></div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <div class="gradient-bg text-white py-12">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <div class="mb-6">
                <i class="fas fa-chart-candlestick text-6xl mb-4 animate-pulse-slow"></i>
            </div>
            <h2 class="text-4xl font-bold mb-4">Live Trading Signals</h2>
            <p class="text-xl mb-8">AI-Powered Technical Analysis for Forex, Crypto & Commodities</p>
            <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-8">
                <div class="bg-white/10 backdrop-blur rounded-lg p-4">
                    <i class="fas fa-signal text-2xl mb-2"></i>
                    <div class="text-2xl font-bold" id="signalCount">12</div>
                    <div class="text-sm">Active Signals</div>
                </div>
                <div class="bg-white/10 backdrop-blur rounded-lg p-4">
                    <i class="fas fa-percentage text-2xl mb-2"></i>
                    <div class="text-2xl font-bold">87%</div>
                    <div class="text-sm">Success Rate</div>
                </div>
                <div class="bg-white/10 backdrop-blur rounded-lg p-4">
                    <i class="fas fa-clock text-2xl mb-2"></i>
                    <div class="text-2xl font-bold">24/7</div>
                    <div class="text-sm">Live Updates</div>
                </div>
                <div class="bg-white/10 backdrop-blur rounded-lg p-4">
                    <i class="fas fa-globe text-2xl mb-2"></i>
                    <div class="text-2xl font-bold">50+</div>
                    <div class="text-sm">Trading Pairs</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Native Ad Banner - SUDAH TERPASANG -->
    <div class="native-ad">
        <div class="text-center">
            <h3 class="text-2xl font-bold text-white mb-2">üí∞ TRADING SUCCESS</h3>
            <p class="text-white text-lg mb-4">Join Thousands of Successful Traders!</p>
            <div class="flex justify-center space-x-4">
                <div class="bg-white text-blue-600 px-6 py-3 rounded-lg font-bold hover:bg-gray-100 transition-colors cursor-pointer">
                    Start Trading Now
                </div>
                <div class="bg-green-500 text-white px-6 py-3 rounded-lg font-bold hover:bg-green-600 transition-colors cursor-pointer">
                    Learn More
                </div>
            </div>
            <p class="text-white/80 text-sm mt-4">‚≠ê 4.9/5 Rating from 2,500+ Reviews</p>
        </div>
    </div>

    <!-- Ad Banner - SUDAH TERPASANG -->
    <div class="ad-banner text-white py-4">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <h3 class="text-lg font-semibold">üí∞ Reliable Trading Signals for Everyone</h3>
            <p class="text-sm mt-1">Join thousands of successful traders worldwide</p>
        </div>
    </div>

    <!-- Main Content -->
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Performance Report -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
            <div class="stat-card success-stat">
                <div class="text-3xl font-bold mb-2" id="totalSignals">0</div>
                <div class="text-sm opacity-80">Total Signals</div>
            </div>
            <div class="stat-card">
                <div class="text-3xl font-bold mb-2" id="successfulSignals">0</div>
                <div class="text-sm opacity-80">Successful</div>
            </div>
            <div class="stat-card warning-stat">
                <div class="text-3xl font-bold mb-2" id="failedSignals">0</div>
                <div class="text-sm opacity-80">Failed</div>
            </div>
            <div class="stat-card danger-stat">
                <div class="text-3xl font-bold mb-2" id="successRate">0%</div>
                <div class="text-sm opacity-80">Success Rate</div>
            </div>
        </div>

        <!-- Filter Controls -->
        <div class="bg-white rounded-lg shadow-sm p-6 mb-6">
            <div class="flex flex-wrap gap-4 items-center justify-between">
                <div class="flex flex-wrap gap-2">
                    <select class="px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" id="timeframeFilter">
                        <option value="all">All Timeframes</option>
                        <option value="M1">M1 (1 hour validity)</option>
                        <option value="M5">M5 (2 hours validity)</option>
                        <option value="M15">M15 (4 hours validity)</option>
                        <option value="M30">M30 (6 hours validity)</option>
                        <option value="H1">H1 (12 hours validity)</option>
                        <option value="H4">H4 (24 hours validity)</option>
                        <option value="D1">D1 (3 days validity)</option>
                    </select>
                    <select class="px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" id="pairFilter">
                        <option value="all">All Pairs</option>
                        <option value="forex">Forex</option>
                        <option value="crypto">Crypto</option>
                        <option value="commodity">Commodities</option>
                    </select>
                    <select class="px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" id="probabilityFilter">
                        <option value="all">All Probabilities</option>
                        <option value="high">High (75%+)</option>
                        <option value="medium">Medium (60-74%)</option>
                        <option value="low">Low (<60%)</option>
                    </select>
                </div>
                <button class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors" onclick="refreshSignals()">
                    <i class="fas fa-sync-alt mr-2"></i>Refresh
                </button>
                <button class="bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-lg transition-colors" onclick="showReport()">
                    <i class="fas fa-chart-bar mr-2"></i>Report
                </button>
            </div>
        </div>

        <!-- Signals Grid -->
        <div class="grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6" id="signalsContainer">
            <!-- Signal cards will be generated here -->
        </div>

        <!-- Mid-Content Ad - SUDAH TERPASANG -->
        <div class="native-ad my-8">
            <div class="text-center">
                <h3 class="text-2xl font-bold text-white mb-2">üí∞ PROFIT BOOSTER</h3>
                <p class="text-white text-lg mb-4">Join 10,000+ Successful Traders!</p>
                <div class="bg-white text-blue-600 px-8 py-4 rounded-lg font-bold text-xl hover:bg-gray-100 transition-colors cursor-pointer inline-block">
                    Get Started Now
                </div>
                <p class="text-white/80 text-sm mt-4">‚≠ê 4.9/5 Rating from 2,500+ Reviews</p>
            </div>
        </div>

        <!-- Risk Calculator Section -->
        <div class="mt-12 bg-white rounded-lg shadow-sm p-6">
            <h3 class="text-xl font-bold mb-6 flex items-center">
                <i class="fas fa-calculator mr-3 text-blue-600"></i>
                Risk & Reward Calculator
            </h3>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Entry Price</label>
                    <input type="number" id="entryPrice" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="1.0856">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Stop Loss</label>
                    <input type="number" id="stopLoss" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="1.0800">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Take Profit</label>
                    <input type="number" id="takeProfit" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="1.0950">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Account Size</label>
                    <input type="number" id="accountSize" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="10000">
                </div>
            </div>
            <div class="mt-6 p-4 bg-gray-50 rounded-lg" id="riskResult" style="display: none;">
                <h4 class="font-semibold mb-2">Calculation Results:</h4>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                    <div>
                        <span class="text-sm text-gray-600">Risk Amount:</span>
                        <div class="font-medium" id="riskAmount">$0</div>
                    </div>
                    <div>
                        <span class="text-sm text-gray-600">Reward Amount:</span>
                        <div class="font-medium" id="rewardAmount">$0</div>
                    </div>
                    <div>
                        <span class="text-sm text-gray-600">Risk/Reward:</span>
                        <div class="font-medium" id="riskReward">1:0</div>
                    </div>
                    <div>
                        <span class="text-sm text-gray-600">Position Size:</span>
                        <div class="font-medium" id="positionSize">0 lots</div>
                    </div>
                </div>
            </div>
            <button class="mt-4 bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg transition-colors" onclick="calculateRiskReward()">
                <i class="fas fa-chart-pie mr-2"></i>Calculate Risk/Reward
            </button>
        </div>
    </div>

    <!-- Disclaimer Modal -->
    <div id="disclaimerModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
        <div class="bg-white rounded-lg p-8 max-w-2xl max-h-[80vh] overflow-y-auto m-4">
            <h2 class="text-2xl font-bold mb-6 text-red-600">
                <i class="fas fa-exclamation-triangle mr-2"></i>
                Trading Risk Disclaimer
            </h2>
            <div class="disclaimer-text">
                <p><strong>IMPORTANT NOTICE:</strong> Trading foreign exchange, cryptocurrencies, and commodities on margin carries a high level of risk and may not be suitable for all investors.</p>
                
                <div class="risk-warning">
                    <strong>‚ö†Ô∏è HIGH RISK WARNING:</strong>
                    <ul class="list-disc list-inside mt-2 space-y-1">
                        <li>You could lose all of your invested capital</li>
                        <li>Leverage can work against you as well as for you</li>
                        <li>Past performance is not indicative of future results</li>
                        <li>Only trade with money you can afford to lose</li>
                    </ul>
                </div>

                <h3 class="font-bold mt-4 mb-2">Key Risk Factors:</h3>
                <ul class="list-disc list-inside space-y-2">
                    <li><strong>Market Volatility:</strong> Financial markets can be extremely volatile and unpredictable</li>
                    <li><strong>Leverage Risk:</strong> High leverage can lead to rapid losses</li>
                    <li><strong>Technical Analysis Limitations:</strong> Our AI signals are based on historical data and technical analysis, which cannot guarantee future performance</li>
                    <li><strong>Economic Events:</strong> News, economic data, and geopolitical events can dramatically impact prices</li>
                    <li><strong>System Risks:</strong> Technical issues, internet connectivity, or platform failures may affect trading</li>
                </ul>

                <h3 class="font-bold mt-4 mb-2">No Guarantee of Profit:</h3>
                <p>We do not guarantee any specific returns or profits. All trading signals provided are for educational and informational purposes only. Always conduct your own research and consider your financial situation before making any trading decisions.</p>

                <h3 class="font-bold mt-4 mb-2">Professional Advice:</h3>
                <p>Consult with a qualified financial advisor before making any investment decisions. This service is not intended as financial advice.</p>

                <h3 class="font-bold mt-4 mb-2">Responsible Trading:</h3>
                <ul class="list-disc list-inside space-y-1">
                    <li>Never risk more than 1-2% of your account on a single trade</li>
                    <li>Always use stop-loss orders</li>
                    <li>Keep a trading journal</li>
                    <li>Continuously educate yourself about markets</li>
                </ul>
            </div>

            <div class="mt-6 p-4 bg-yellow-50 border-2 border-yellow-200 rounded-lg">
                <p class="text-sm text-yellow-800">
                    <strong>By clicking "Accept", you acknowledge that you have read, understood, and agree to these terms.</strong>
                </p>
            </div>

            <div class="flex justify-end space-x-4 mt-6">
                <button onclick="window.close()" class="px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50">
                    Decline
                </button>
                <button onclick="acceptDisclaimer()" class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">
                    I Accept the Risks
                </button>
            </div>
        </div>
    </div>

    <!-- Trading Guide Modal -->
    <div id="guideModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg p-8 max-w-4xl max-h-[80vh] overflow-y-auto m-4">
            <h2 class="text-3xl font-bold mb-6 text-blue-600">
                <i class="fas fa-book-open mr-2"></i>
                Complete Trading Guide
            </h2>
            
            <div class="space-y-6">
                <!-- Basic Guide -->
                <div class="bg-blue-50 p-6 rounded-lg">
                    <h3 class="text-xl font-bold mb-4 text-blue-800">üìö Basic Trading Guide</h3>
                    <div class="space-y-3">
                        <div>
                            <h4 class="font-semibold text-blue-700">Understanding Trading Signals</h4>
                            <p class="text-gray-700">Trading signals are recommendations to buy or sell based on technical analysis. Our AI analyzes multiple indicators to generate high-probability setups.</p>
                        </div>
                        <div>
                            <h4 class="font-semibold text-blue-700">How to Use Our Signals</h4>
                            <ol class="list-decimal list-inside text-gray-700 space-y-1">
                                <li>Check the signal direction (BUY/SELL)</li>
                                <li>Verify entry price, stop loss, and take profit levels</li>
                                <li>Consider the probability rating</li>
                                <li>Enter trade at or near the suggested entry price</li>
                                <li>Set stop loss and take profit immediately</li>
                                <li>Monitor the trade and follow risk management rules</li>
                            </ol>
                        </div>
                    </div>
                </div>

                <!-- Probability Guide -->
                <div class="bg-green-50 p-6 rounded-lg">
                    <h3 class="text-xl font-bold mb-4 text-green-800">üéØ Understanding Probability</h3>
                    <div class="space-y-3">
                        <div>
                            <h4 class="font-semibold text-green-700">High Probability (75%+)</h4>
                            <p class="text-gray-700">Strong technical setup with multiple indicators aligned. Best for conservative trading with smaller position sizes.</p>
                        </div>
                        <div>
                            <h4 class="font-semibold text-green-700">Medium Probability (60-74%)</h4>
                            <p class="text-gray-700">Good setup with most indicators aligned. Suitable for standard position sizes with normal risk management.</p>
                        </div>
                        <div>
                            <h4 class="font-semibold text-green-700">Low Probability (<60%)</h4>
                            <p class="text-gray-700">Weaker setup with conflicting signals. Only for experienced traders with small position sizes.</p>
                        </div>
                    </div>
                </div>

                <!-- Risk Management -->
                <div class="bg-yellow-50 p-6 rounded-lg">
                    <h3 class="text-xl font-bold mb-4 text-yellow-800">‚öñÔ∏è Risk Management</h3>
                    <div class="space-y-3">
                        <div>
                            <h4 class="font-semibold text-yellow-700">Position Sizing Rules</h4>
                            <ul class="list-disc list-inside text-gray-700 space-y-1">
                                <li>High Probability: Risk 1-2% per trade</li>
                                <li>Medium Probability: Risk 0.5-1% per trade</li>
                                <li>Low Probability: Risk 0.25-0.5% per trade</li>
                            </ul>
                        </div>
                        <div>
                            <h4 class="font-semibold text-yellow-700">Risk/Reward Ratio</h4>
                            <p class="text-gray-700">Look for trades with minimum 1:2 risk/reward ratio. Higher ratios are better for long-term profitability.</p>
                        </div>
                        <div>
                            <h4 class="font-semibold text-yellow-700">Stop Loss Rules</h4>
                            <ul class="list-disc list-inside text-gray-700 space-y-1">
                                <li>Never move stop loss further from entry</li>
                                <li>Consider trailing stops for profitable trades</li>
                                <li>Always use stop loss - no exceptions</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Advanced Tips -->
                <div class="bg-purple-50 p-6 rounded-lg">
                    <h3 class="text-xl font-bold mb-4 text-purple-800">üöÄ Advanced Trading Tips</h3>
                    <div class="space-y-3">
                        <div>
                            <h4 class="font-semibold text-purple-700">Market Sessions</h4>
                            <ul class="list-disc list-inside text-gray-700 space-y-1">
                                <li>London Session: Highest volatility (8:00-16:00 GMT)</li>
                                <li>New York Session: Good volatility (13:00-22:00 GMT)</li>
                                <li>Asian Session: Lower volatility (23:00-8:00 GMT)</li>
                                <li>Sydney Session: Moderate volatility (21:00-6:00 GMT)</li>
                            </ul>
                        </div>
                        <div>
                            <h4 class="font-semibold text-purple-700">Timezone Considerations</h4>
                            <ul class="list-disc list-inside text-gray-700 space-y-1">
                                <li><strong>WIB (UTC+7):</strong> Best overlap with London (15:00-23:00 WIB)</li>
                                <li><strong>WITA (UTC+8):</strong> Good overlap with Asian and London sessions</li>
                                <li><strong>WIT (UTC+9):</strong> Prime time for Asian session trading</li>
                                <li><strong>GMT/UTC:</strong> Standard forex market hours reference</li>
                            </ul>
                        </div>
                        <div>
                            <h4 class="font-semibold text-purple-700">Timeframe Strategy</h4>
                            <ul class="list-disc list-inside text-gray-700 space-y-1">
                                <li>M1-M15: For scalping and quick entries</li>
                                <li>M30-H1: For intraday trading</li>
                                <li>H4-D1: For swing trading</li>
                            </ul>
                        </div>
                        <div>
                            <h4 class="font-semibold text-purple-700">Common Mistakes to Avoid</h4>
                            <ul class="list-disc list-inside text-gray-700 space-y-1">
                                <li>Overtrading - taking too many signals</li>
                                <li>Revenge trading after losses</li>
                                <li>Ignoring risk management rules</li>
                                <li>Trading during major news events</li>
                                <li>Not keeping a trading journal</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="flex justify-end mt-6">
                <button onclick="closeGuide()" class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">
                    Got it!
                </button>
            </div>
        </div>
    </div>

    <!-- Performance Report Modal -->
    <div id="reportModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg p-8 max-w-4xl max-h-[80vh] overflow-y-auto m-4">
            <h2 class="text-3xl font-bold mb-6 text-purple-600">
                <i class="fas fa-chart-bar mr-2"></i>
                Performance Report
            </h2>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                <div class="bg-green-50 p-6 rounded-lg">
                    <h3 class="text-xl font-bold mb-4 text-green-800">üìä Success by Probability</h3>
                    <div class="space-y-2">
                        <div class="flex justify-between">
                            <span>High Probability (75%+):</span>
                            <span class="font-bold" id="highProbSuccess">0%</span>
                        </div>
                        <div class="flex justify-between">
                            <span>Medium Probability (60-74%):</span>
                            <span class="font-bold" id="medProbSuccess">0%</span>
                        </div>
                        <div class="flex justify-between">
                            <span>Low Probability (<60%):</span>
                            <span class="font-bold" id="lowProbSuccess">0%</span>
                        </div>
                    </div>
                </div>
                
                <div class="bg-blue-50 p-6 rounded-lg">
                    <h3 class="text-xl font-bold mb-4 text-blue-800">üìà Signal Statistics</h3>
                    <div class="space-y-2">
                        <div class="flex justify-between">
                            <span>Total Signals Generated:</span>
                            <span class="font-bold" id="reportTotalSignals">0</span>
                        </div>
                        <div class="flex justify-between">
                            <span>Active Signals:</span>
                            <span class="font-bold" id="reportActiveSignals">0</span>
                        </div>
                        <div class="flex justify-between">
                            <span>Expired Signals:</span>
                            <span class="font-bold" id="reportExpiredSignals">0</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="bg-gray-50 p-6 rounded-lg">
                <h3 class="text-xl font-bold mb-4 text-gray-800">üìù Recent Signal History</h3>
                <div class="overflow-x-auto">
                    <table class="w-full text-sm">
                        <thead>
                            <tr class="border-b">
                                <th class="text-left p-2">Time</th>
                                <th class="text-left p-2">Pair</th>
                                <th class="text-left p-2">Type</th>
                                <th class="text-left p-2">Entry</th>
                                <th class="text-left p-2">Probability</th>
                                <th class="text-left p-2">Result</th>
                            </tr>
                        </thead>
                        <tbody id="signalHistory">
                            <!-- Signal history will be populated here -->
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="flex justify-between mt-6">
                <button onclick="exportReport()" class="px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700">
                    <i class="fas fa-download mr-2"></i>Export Report
                </button>
                <button onclick="closeReport()" class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">
                    Close
                </button>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let disclaimerAccepted = false;
        let currentSignals = [];
        let signalHistory = [];
        let autoRemoveEnabled = true;
        let signalStats = {
            total: 0,
            successful: 0,
            failed: 0,
            highProb: { total: 0, successful: 0 },
            medProb: { total: 0, successful: 0 },
            lowProb: { total: 0, successful: 0 }
        };

        // User timezone detection
        let userTimezone = {
            name: '',
            offset: 0,
            localTime: new Date()
        };

        // REALISTIC TRADING PAIRS WITH ACCURATE MARKET PRICES (2024)
        const tradingPairs = {
            forex: [
                { symbol: 'EUR/USD', basePrice: 1.0856, spread: 0.0001, volatility: 0.0020, decimals: 4 },
                { symbol: 'GBP/USD', basePrice: 1.2745, spread: 0.0002, volatility: 0.0030, decimals: 4 },
                { symbol: 'USD/JPY', basePrice: 149.85, spread: 0.01, volatility: 0.50, decimals: 2 },
                { symbol: 'USD/CHF', basePrice: 0.8942, spread: 0.0001, volatility: 0.0020, decimals: 4 },
                { symbol: 'AUD/USD', basePrice: 0.6648, spread: 0.0001, volatility: 0.0030, decimals: 4 },
                { symbol: 'USD/CAD', basePrice: 1.3658, spread: 0.0002, volatility: 0.0025, decimals: 4 },
                { symbol: 'NZD/USD', basePrice: 0.6152, spread: 0.0001, volatility: 0.0035, decimals: 4 },
                { symbol: 'EUR/GBP', basePrice: 0.8521, spread: 0.0002, volatility: 0.0025, decimals: 4 },
                { symbol: 'EUR/JPY', basePrice: 162.78, spread: 0.02, volatility: 0.60, decimals: 2 },
                { symbol: 'GBP/JPY', basePrice: 190.92, spread: 0.03, volatility: 0.80, decimals: 2 },
                { symbol: 'EUR/CHF', basePrice: 0.9724, spread: 0.0001, volatility: 0.0015, decimals: 4 },
                { symbol: 'AUD/JPY', basePrice: 99.65, spread: 0.02, volatility: 0.45, decimals: 2 },
                { symbol: 'EUR/AUD', basePrice: 1.6335, spread: 0.0003, volatility: 0.0040, decimals: 4 },
                { symbol: 'GBP/CHF', basePrice: 1.1402, spread: 0.0003, volatility: 0.0035, decimals: 4 },
                { symbol: 'EUR/CAD', basePrice: 1.4829, spread: 0.0003, volatility: 0.0030, decimals: 4 },
                { symbol: 'CAD/JPY', basePrice: 109.67, spread: 0.02, volatility: 0.40, decimals: 2 },
                { symbol: 'NZD/JPY', basePrice: 92.18, spread: 0.02, volatility: 0.55, decimals: 2 },
                { symbol: 'AUD/NZD', basePrice: 1.0802, spread: 0.0002, volatility: 0.0035, decimals: 4 }
            ],
            crypto: [
                { symbol: 'BTC/USD', basePrice: 67852.45, spread: 50, volatility: 2500, decimals: 2 },
                { symbol: 'ETH/USD', basePrice: 3468.92, spread: 5, volatility: 180, decimals: 2 },
                { symbol: 'BNB/USD', basePrice: 585.73, spread: 2, volatility: 28, decimals: 2 },
                { symbol: 'XRP/USD', basePrice: 0.5234, spread: 0.001, volatility: 0.058, decimals: 4 },
                { symbol: 'ADA/USD', basePrice: 0.3847, spread: 0.001, volatility: 0.032, decimals: 4 },
                { symbol: 'SOL/USD', basePrice: 148.95, spread: 1, volatility: 8.5, decimals: 2 },
                { symbol: 'DOGE/USD', basePrice: 0.1628, spread: 0.0005, volatility: 0.012, decimals: 5 },
                { symbol: 'DOT/USD', basePrice: 7.923, spread: 0.02, volatility: 0.52, decimals: 3 },
                { symbol: 'MATIC/USD', basePrice: 0.9284, spread: 0.002, volatility: 0.041, decimals: 4 },
                { symbol: 'LINK/USD', basePrice: 14.876, spread: 0.05, volatility: 0.82, decimals: 3 },
                { symbol: 'UNI/USD', basePrice: 9.542, spread: 0.03, volatility: 0.65, decimals: 3 },
                { symbol: 'LTC/USD', basePrice: 73.185, spread: 0.15, volatility: 3.2, decimals: 3 }
            ],
            commodity: [
                { symbol: 'XAU/USD', basePrice: 2358.75, spread: 0.5, volatility: 28.5, decimals: 2 },
                { symbol: 'XAG/USD', basePrice: 28.64, spread: 0.02, volatility: 0.85, decimals: 2 },
                { symbol: 'OIL/USD', basePrice: 78.92, spread: 0.05, volatility: 2.8, decimals: 2 },
                { symbol: 'NATGAS/USD', basePrice: 2.847, spread: 0.01, volatility: 0.16, decimals: 3 },
                { symbol: 'COPPER/USD', basePrice: 4.168, spread: 0.01, volatility: 0.22, decimals: 3 },
                { symbol: 'WHEAT/USD', basePrice: 6.284, spread: 0.02, volatility: 0.31, decimals: 3 }
            ]
        };

        const timeframes = ['M1', 'M5', 'M15', 'M30', 'H1', 'H4', 'D1'];
        
        // Signal validity hours by timeframe
        const validityHours = {
            'M1': 1, 'M5': 2, 'M15': 4, 'M30': 6, 'H1': 12, 'H4': 24, 'D1': 72
        };

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            detectUserTimezone();
            updateCurrentTime();
            setInterval(updateCurrentTime, 1000);
            generateInitialSignals();
            filterSignals();
            updateStats();
        });

        function detectUserTimezone() {
            const now = new Date();
            const offset = -now.getTimezoneOffset() / 60; // Convert to hours
            const offsetString = offset >= 0 ? `UTC+${offset}` : `UTC${offset}`;
            
            // Detect common Indonesian timezones
            let timezoneName = offsetString;
            if (offset === 7) timezoneName = 'WIB (Western Indonesia Time)';
            else if (offset === 8) timezoneName = 'WITA (Central Indonesia Time)';
            else if (offset === 9) timezoneName = 'WIT (Eastern Indonesia Time)';
            else if (offset === 0) timezoneName = 'GMT (Greenwich Mean Time)';
            else if (offset === 1) timezoneName = 'CET (Central European Time)';
            else if (offset === 5.5) timezoneName = 'IST (India Standard Time)';
            else if (offset === 8) timezoneName = 'CST (China Standard Time)';
            else if (offset === -5) timezoneName = 'EST (Eastern Standard Time)';
            else if (offset === -8) timezoneName = 'PST (Pacific Standard Time)';
            
            userTimezone = {
                name: timezoneName,
                offset: offset,
                localTime: now
            };
            
            // Update timezone display
            document.getElementById('userTimezone').textContent = timezoneName;
        }

        function updateCurrentTime() {
            const now = new Date();
            const options = { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric', 
                hour: '2-digit', 
                minute: '2-digit', 
                second: '2-digit',
                timeZoneName: 'short'
            };
            
            // Format time in user's local timezone
            const localTimeString = now.toLocaleDateString('en-US', options);
            document.getElementById('currentTime').textContent = localTimeString;
        }

        function formatTimeInUserTimezone(date) {
            const options = {
                weekday: 'short',
                month: 'short',
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit'
            };
            return date.toLocaleDateString('en-US', options);
        }

        function getMarketSessionStatus() {
            const now = new Date();
            const utcHour = now.getUTCHours();
            const userOffset = -now.getTimezoneOffset() / 60;
            const localHour = (utcHour + userOffset + 24) % 24;
            
            // Market sessions in UTC
            const sessions = {
                sydney: { open: 21, close: 6, name: 'Sydney' },
                tokyo: { open: 23, close: 8, name: 'Tokyo' },
                london: { open: 8, close: 16, name: 'London' },
                newYork: { open: 13, close: 22, name: 'New York' }
            };
            
            let activeSessions = [];
            for (const [key, session] of Object.entries(sessions)) {
                if (utcHour >= session.open || utcHour < session.close) {
                    activeSessions.push(session.name);
                }
            }
            
            return activeSessions.length > 0 ? activeSessions.join(', ') : 'Market Closed';
        }

        function acceptDisclaimer() {
            disclaimerAccepted = true;
            document.getElementById('disclaimerModal').style.display = 'none';
            // Show ad popup after 3 seconds
            setTimeout(() => {
                if (disclaimerAccepted) {
                    alert('üí∞ New trading signals available! Check your dashboard for latest opportunities.');
                }
            }, 3000);
        }

        function generateRealisticPrice(pairData, direction) {
            const { basePrice, spread, volatility, decimals } = pairData;
            
            // Generate realistic price movement within volatility range
            const maxMovement = volatility * 0.3; // Keep movement within 30% of volatility
            const randomMovement = (Math.random() - 0.5) * maxMovement;
            const entryPrice = basePrice + randomMovement;
            
            // Calculate stop loss and take profit based on volatility
            const riskAmount = volatility * 0.15; // 15% of volatility for stop loss
            const riskRewardRatio = 1.5 + Math.random() * 1.0; // 1.5 to 2.5 risk/reward
            const rewardAmount = riskAmount * riskRewardRatio;
            
            let sl, tp;
            if (direction === 'BUY') {
                sl = entryPrice - riskAmount;
                tp = entryPrice + rewardAmount;
            } else {
                sl = entryPrice + riskAmount;
                tp = entryPrice - rewardAmount;
            }
            
            // Format prices based on decimal places
            const formatPrice = (price) => {
                return price.toFixed(decimals);
            };
            
            return {
                entry: formatPrice(entryPrice),
                sl: formatPrice(sl),
                tp: formatPrice(tp)
            };
        }

        function generateInitialSignals() {
            currentSignals = [];
            const signalCount = 12;
            
            for (let i = 0; i < signalCount; i++) {
                const category = Object.keys(tradingPairs)[Math.floor(Math.random() * 3)];
                const pairs = tradingPairs[category];
                const pairData = pairs[Math.floor(Math.random() * pairs.length)];
                const timeframe = timeframes[Math.floor(Math.random() * timeframes.length)];
                const type = Math.random() > 0.5 ? 'BUY' : 'SELL';
                const probability = Math.random();
                let probLevel, probValue;
                
                if (probability > 0.75) {
                    probLevel = 'high';
                    probValue = Math.floor(Math.random() * 15) + 75;
                } else if (probability > 0.6) {
                    probLevel = 'medium';
                    probValue = Math.floor(Math.random() * 15) + 60;
                } else {
                    probLevel = 'low';
                    probValue = Math.floor(Math.random() * 30) + 30;
                }
                
                const prices = generateRealisticPrice(pairData, type);
                
                const signal = {
                    id: Date.now() + i,
                    pair: pairData.symbol,
                    type,
                    entry: prices.entry,
                    sl: prices.sl,
                    tp: prices.tp,
                    timeframe,
                    probability: probValue,
                    probLevel,
                    category,
                    createdAt: new Date(),
                    validHours: validityHours[timeframe],
                    status: 'active'
                };
                
                currentSignals.push(signal);
                signalStats.total++;
                
                // Update probability stats
                if (probLevel === 'high') signalStats.highProb.total++;
                else if (probLevel === 'medium') signalStats.medProb.total++;
                else signalStats.lowProb.total++;
            }
        }

        function createSignalCard(signal) {
            const now = new Date();
            const createdTime = new Date(signal.createdAt);
            const elapsedHours = (now - createdTime) / (1000 * 60 * 60);
            const remainingHours = Math.max(0, signal.validHours - elapsedHours);
            const isExpiring = remainingHours < 1 && remainingHours > 0;
            const isExpired = remainingHours <= 0;
            
            const typeColor = signal.type === 'BUY' ? 'green' : 'red';
            const probColor = signal.probLevel === 'high' ? 'green' : signal.probLevel === 'medium' ? 'yellow' : 'red';
            
            return `
                <div class="signal-card bg-white rounded-lg shadow-md p-6 card-hover ${isExpiring ? 'card-expiring' : ''} ${isExpired ? 'opacity-50' : ''}" data-signal-id="${signal.id}">
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h3 class="text-lg font-bold text-gray-900">${signal.pair}</h3>
                            <p class="text-sm text-gray-500">${signal.timeframe} ‚Ä¢ ${signal.category.toUpperCase()}</p>
                        </div>
                        <div class="text-right">
                            <span class="inline-block px-3 py-1 text-xs font-semibold text-white bg-${typeColor}-500 rounded-full">
                                ${signal.type}
                            </span>
                            <div class="mt-1">
                                <span class="inline-block px-2 py-1 text-xs font-semibold text-white bg-${probColor}-500 rounded">
                                    ${signal.probability}%
                                </span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="space-y-2 mb-4">
                        <div class="flex justify-between">
                            <span class="text-sm text-gray-600">Entry:</span>
                            <span class="font-mono font-semibold">${signal.entry}</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-sm text-gray-600">SL:</span>
                            <span class="font-mono text-red-600 font-semibold">${signal.sl}</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-sm text-gray-600">TP:</span>
                            <span class="font-mono text-green-600 font-semibold">${signal.tp}</span>
                        </div>
                    </div>
                    
                    <div class="border-t pt-3">
                        <div class="flex justify-between items-center mb-2">
                            <span class="text-xs text-gray-500">Created: ${formatTimeInUserTimezone(createdTime)}</span>
                            <span class="text-xs text-gray-500">Valid for ${signal.validHours}h</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-xs font-semibold ${isExpiring ? 'text-red-600 animate-pulse' : 'text-gray-600'}">
                                ${isExpired ? 'EXPIRED' : isExpiring ? 'EXPIRING SOON' : 'Time Left'}
                            </span>
                            <span class="text-xs font-bold ${isExpiring ? 'text-red-600' : 'text-gray-700'}">
                                ${isExpired ? '0h 0m' : formatTimeRemaining(remainingHours)}
                            </span>
                        </div>
                    </div>
                </div>
            `;
        }

        function formatTimeRemaining(hours) {
            const h = Math.floor(hours);
            const m = Math.floor((hours - h) * 60);
            return `${h}h ${m}m`;
        }

        function filterSignals() {
            const timeframeFilter = document.getElementById('timeframeFilter').value;
            const pairFilter = document.getElementById('pairFilter').value;
            const probabilityFilter = document.getElementById('probabilityFilter').value;
            
            let filtered = currentSignals.filter(signal => {
                if (signal.status === 'expired') return false;
                
                if (timeframeFilter !== 'all' && signal.timeframe !== timeframeFilter) return false;
                if (pairFilter !== 'all' && signal.category !== pairFilter) return false;
                if (probabilityFilter !== 'all') {
                    if (probabilityFilter === 'high' && signal.probLevel !== 'high') return false;
                    if (probabilityFilter === 'medium' && signal.probLevel !== 'medium') return false;
                    if (probabilityFilter === 'low' && signal.probLevel !== 'low') return false;
                }
                
                return true;
            });
            
            const container = document.getElementById('signalsContainer');
            container.innerHTML = filtered.map(signal => createSignalCard(signal)).join('');
            document.getElementById('signalCount').textContent = filtered.length;
        }

        function refreshSignals() {
            // Simulate new signals with realistic price updates
            currentSignals.forEach(signal => {
                const category = Object.keys(tradingPairs).find(cat => 
                    tradingPairs[cat].some(p => p.symbol === signal.pair)
                );
                if (category) {
                    const pairData = tradingPairs[category].find(p => p.symbol === signal.pair);
                    if (pairData) {
                        const prices = generateRealisticPrice(pairData, signal.type);
                        signal.entry = prices.entry;
                        signal.sl = prices.sl;
                        signal.tp = prices.tp;
                    }
                }
            });
            
            filterSignals();
        }

        function calculateRiskReward() {
            const entry = parseFloat(document.getElementById('entryPrice').value);
            const sl = parseFloat(document.getElementById('stopLoss').value);
            const tp = parseFloat(document.getElementById('takeProfit').value);
            const accountSize = parseFloat(document.getElementById('accountSize').value) || 10000;
            
            if (!entry || !sl || !tp) {
                alert('Please fill in all price fields');
                return;
            }
            
            const riskPips = Math.abs(entry - sl);
            const rewardPips = Math.abs(tp - entry);
            const riskRewardRatio = rewardPips / riskPips;
            
            // Assume 1% risk per trade
            const riskAmount = accountSize * 0.01;
            const rewardAmount = riskAmount * riskRewardRatio;
            
            // Simple position size calculation (simplified)
            const positionSize = (riskAmount / riskPips) * 10000;
            
            document.getElementById('riskAmount').textContent = `$${riskAmount.toFixed(2)}`;
            document.getElementById('rewardAmount').textContent = `$${rewardAmount.toFixed(2)}`;
            document.getElementById('riskReward').textContent = `1:${riskRewardRatio.toFixed(2)}`;
            document.getElementById('positionSize').textContent = `${positionSize.toFixed(2)} lots`;
            document.getElementById('riskResult').style.display = 'block';
        }

        function removeExpiredSignals() {
            if (!autoRemoveEnabled) return;
            
            const now = new Date();
            let signalsRemoved = false;
            
            currentSignals.forEach(signal => {
                if (signal.status === 'active') {
                    const createdTime = new Date(signal.createdAt);
                    const elapsedHours = (now - createdTime) / (1000 * 60 * 60);
                    
                    if (elapsedHours >= signal.validHours) {
                        signal.status = 'expired';
                        signalStats.failed++;
                        
                        // Update probability stats
                        if (signal.probLevel === 'high') signalStats.highProb.successful--;
                        else if (signal.probLevel === 'medium') signalStats.medProb.successful--;
                        else signalStats.lowProb.successful--;
                        
                        signalsRemoved = true;
                        
                        // Add to history
                        signalHistory.push({
                            ...signal,
                            result: 'Failed',
                            completedAt: now
                        });
                    }
                }
            });
            
            if (signalsRemoved) {
                // Remove expired signals with animation
                const expiredCards = document.querySelectorAll('.signal-card[data-signal-id]');
                expiredCards.forEach(card => {
                    const signalId = parseInt(card.dataset.signalId);
                    const signal = currentSignals.find(s => s.id === signalId);
                    if (signal && signal.status === 'expired') {
                        card.classList.add('card-removed');
                        setTimeout(() => {
                            card.remove();
                        }, 500);
                    }
                });
                
                filterSignals();
                updateStats();
            }
        }

        function updateStats() {
            const activeSignals = currentSignals.filter(s => s.status === 'active').length;
            const successRate = signalStats.total > 0 ? ((signalStats.successful / signalStats.total) * 100).toFixed(1) : 0;
            
            document.getElementById('totalSignals').textContent = signalStats.total;
            document.getElementById('successfulSignals').textContent = signalStats.successful;
            document.getElementById('failedSignals').textContent = signalStats.failed;
            document.getElementById('successRate').textContent = `${successRate}%`;
        }

        function showReport() {
            const modal = document.getElementById('reportModal');
            modal.style.display = 'flex';
            
            // Update report data
            const activeSignals = currentSignals.filter(s => s.status === 'active').length;
            const expiredSignals = currentSignals.filter(s => s.status === 'expired').length;
            
            document.getElementById('reportTotalSignals').textContent = signalStats.total;
            document.getElementById('reportActiveSignals').textContent = activeSignals;
            document.getElementById('reportExpiredSignals').textContent = expiredSignals;
            
            // Calculate success rates by probability
            const highProbSuccess = signalStats.highProb.total > 0 ? 
                ((signalStats.highProb.successful / signalStats.highProb.total) * 100).toFixed(1) : 0;
            const medProbSuccess = signalStats.medProb.total > 0 ? 
                ((signalStats.medProb.successful / signalStats.medProb.total) * 100).toFixed(1) : 0;
            const lowProbSuccess = signalStats.lowProb.total > 0 ? 
                ((signalStats.lowProb.successful / signalStats.lowProb.total) * 100).toFixed(1) : 0;
            
            document.getElementById('highProbSuccess').textContent = `${highProbSuccess}%`;
            document.getElementById('medProbSuccess').textContent = `${medProbSuccess}%`;
            document.getElementById('lowProbSuccess').textContent = `${lowProbSuccess}%`;
            
            // Update signal history table
            const historyTable = document.getElementById('signalHistory');
            const recentHistory = signalHistory.slice(-10).reverse();
            
            historyTable.innerHTML = recentHistory.map(signal => `
                <tr class="border-b">
                    <td class="p-2">${formatTimeInUserTimezone(new Date(signal.completedAt))}</td>
                    <td class="p-2">${signal.pair}</td>
                    <td class="p-2">
                        <span class="px-2 py-1 text-xs font-semibold text-white bg-${signal.type === 'BUY' ? 'green' : 'red'}-500 rounded">
                            ${signal.type}
                        </span>
                    </td>
                    <td class="p-2">${signal.entry}</td>
                    <td class="p-2">${signal.probability}%</td>
                    <td class="p-2">
                        <span class="px-2 py-1 text-xs font-semibold text-white bg-${signal.result === 'Success' ? 'green' : 'red'}-500 rounded">
                            ${signal.result}
                        </span>
                    </td>
                </tr>
            `).join('');
        }

        function closeReport() {
            document.getElementById('reportModal').style.display = 'none';
        }

        function exportReport() {
            const reportData = {
                generatedAt: new Date().toISOString(),
                userTimezone: userTimezone,
                statistics: signalStats,
                signalHistory: signalHistory
            };
            
            const dataStr = JSON.stringify(reportData, null, 2);
            const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);
            
            const exportFileDefaultName = `trading-report-${new Date().toISOString().split('T')[0]}.json`;
            
            const linkElement = document.createElement('a');
            linkElement.setAttribute('href', dataUri);
            linkElement.setAttribute('download', exportFileDefaultName);
            linkElement.click();
        }

        function showGuide() {
            document.getElementById('guideModal').style.display = 'flex';
        }

        function closeGuide() {
            document.getElementById('guideModal').style.display = 'none';
        }

        // Event listeners
        document.getElementById('timeframeFilter').addEventListener('change', filterSignals);
        document.getElementById('pairFilter').addEventListener('change', filterSignals);
        document.getElementById('probabilityFilter').addEventListener('change', filterSignals);

        // Auto-remove expired signals every 5 seconds
        setInterval(removeExpiredSignals, 5000);
        
        // Simulate real-time updates every 10 seconds
        setInterval(() => {
            if (disclaimerAccepted) {
                refreshSignals();
            }
        }, 10000);
    </script>
</body>
</html>
